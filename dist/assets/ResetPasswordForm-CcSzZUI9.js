import{_ as u,c as n,a as e,w as c,b as d,d as m,v as g,t as p,e as h,o as i}from"./index-BemHKz4Q.js";const b={data(){return{password:"",message:"",error:"",token:""}},mounted(){this.token=this.$route.params.token},methods:{async handleReset(){var a,s;this.message="",this.error="";try{await h.post(`https://system-sales-backend-hafyc4g0hfhbajdm.brazilsouth-01.azurewebsites.net//api/auth/reset-password/${this.token}`,{password:this.password}),this.message="¡Contraseña restablecida! Ahora puedes iniciar sesión.",this.password=""}catch(l){this.error=((s=(a=l.response)==null?void 0:a.data)==null?void 0:s.message)||"No se pudo restablecer la contraseña."}},goToLogin(){this.$router.push("/login")}}},w={class:"reset-page-container"},f={class:"reset-container glass"},k={class:"reset-input-container"},v={key:0,class:"success"},y={key:1,class:"error"};function R(a,s,l,x,t,o){return i(),n("div",w,[s[7]||(s[7]=e("div",{class:"reset-background-decor"},null,-1)),e("div",f,[s[6]||(s[6]=e("div",{class:"reset-header"},[e("div",{class:"reset-logo"},[e("i",{class:"fas fa-key"})]),e("h2",null,"Restablecer contraseña")],-1)),e("form",{onSubmit:s[1]||(s[1]=c((...r)=>o.handleReset&&o.handleReset(...r),["prevent"]))},[s[4]||(s[4]=e("label",{for:"password"},"Nueva contraseña:",-1)),e("div",k,[s[3]||(s[3]=e("i",{class:"fas fa-lock"},null,-1)),m(e("input",{type:"password","onUpdate:modelValue":s[0]||(s[0]=r=>t.password=r),required:"",placeholder:"Nueva contraseña",autocomplete:"new-password"},null,512),[[g,t.password]])]),s[5]||(s[5]=e("button",{type:"submit",class:"reset-btn enhanced-btn"},"Restablecer",-1)),t.message?(i(),n("p",v,p(t.message),1)):d("",!0),t.error?(i(),n("p",y,p(t.error),1)):d("",!0)],32),e("button",{class:"login-link",onClick:s[2]||(s[2]=(...r)=>o.goToLogin&&o.goToLogin(...r))},"Ir al inicio de sesión")])])}const _=u(b,[["render",R],["__scopeId","data-v-3326bd2a"]]);export{_ as default};
